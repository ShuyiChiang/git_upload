<!DOCTYPE html>
<html>
<script>

    window.onload = function () {

        const backJson = '{\"datas\":[{\"districts\":[{\"zip\":\"100\",\"name\":\"中正區\"},{\"zip\":\"103\",\"name\":\"大同區\"},{\"zip\":\"104\",\"name\":\"中山區\"},{\"zip\":\"105\",\"name\":\"松山區\"},{\"zip\":\"106\",\"name\":\"大安區\"},{\"zip\":\"108\",\"name\":\"萬華區\"},{\"zip\":\"110\",\"name\":\"信義區\"},{\"zip\":\"111\",\"name\":\"士林區\"},{\"zip\":\"112\",\"name\":\"北投區\"},{\"zip\":\"114\",\"name\":\"內湖區\"},{\"zip\":\"115\",\"name\":\"南港區\"},{\"zip\":\"116\",\"name\":\"文山區\"}],\"name\":\"臺北市\"},{\"districts\":[{\"zip\":\"200\",\"name\":\"仁愛區\"},{\"zip\":\"201\",\"name\":\"信義區\"},{\"zip\":\"202\",\"name\":\"中正區\"},{\"zip\":\"203\",\"name\":\"中山區\"},{\"zip\":\"204\",\"name\":\"安樂區\"},{\"zip\":\"205\",\"name\":\"暖暖區\"},{\"zip\":\"206\",\"name\":\"七堵區\"}],\"name\":\"基隆市\"}]}';

        const backobj = JSON.parse(backJson);
        const citySelect = document.querySelector("select[name='city']");
        const districtSelect = document.querySelector("select[name='district']");

        for (let i = 0; i < backobj.datas.length; i++) {
            let city = backobj.datas[i];
            let option = document.createElement("option");
            option.setAttribute('value', city.name);
            option.textContent = city.name;
            citySelect.appendChild(option);
        }

        // 取得所有行政區放入行政區下拉選單（不分縣市）
        for (let i = 0; i < backobj.datas.length; i++) {
            let cityoption = backobj.datas[i];
            for (let j = 0; j < cityoption.districts.length; j++) {
                let district = cityoption.districts[j];
                let option = document.createElement("option");
                option.setAttribute('value', district.zip);
                option.textContent = district.name;
                districtSelect.appendChild(option);
            }
        }


    };

</script>

<body>
    縣市：<select name="city">
        <option value="">請選擇</option>
    </select><br>
    行政區：<select name="district">
        <option value="">請選擇</option>
    </select><br>
</body>

</html>