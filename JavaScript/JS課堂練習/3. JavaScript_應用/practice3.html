<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice3</title>
    <script type="text/javascript">
        window.onload = function () {
            document.getElementById('sub').onclick = function () {
                const numInput = document.getElementById('num');
                const treeNum = numInput.value;
                const treeContainer = document.getElementById('treeContainer');
                const errorMsg = document.getElementById('errorMsg');

                // 清空之前的内容
                treeContainer.innerHTML = '';
                errorMsg.textContent = '';

                // 檢查輸入
                if (treeNum === "" || treeNum < 3 || treeNum > 25) {
                    errorMsg.setAttribute('style', 'color:red;');
                    errorMsg.textContent = '請輸入正確的數字';
                    treeContainer.innerHTML = '';
                } else {
                    // 樹葉
                    for (let i = 0; i < treeNum; i++) {
                        const treeRow = document.createElement('div');
                        treeRow.textContent =  '　'.repeat(treeNum - i - 1) + '＊'.repeat(2 * i + 1);
                        treeContainer.appendChild(treeRow);
                    }

                    // 樹幹
                    const trunkSpaces = '　'.repeat(treeNum - 1); // 全形空格
                    for (let i = 0; i < Math.floor(treeNum / 2) + 1; i++) {//Math.floor() 函式會回傳小於等於所給數字的最大整數。
                        const trunkRow = document.createElement('div');
                        trunkRow.textContent = trunkSpaces + '＊';
                        treeContainer.appendChild(trunkRow);
                    }
                }

            };
        };
    </script>
</head>

<body>
    <span>想要畫出幾層的樹呢?(限定:3~25)</span>
    </br>
    <input type="text" name="treeNum" id="num" />
    <button type="submit" id="sub">送出</button>
    </br>
    <span id="errorMsg"></span>
    <div id="treeContainer"></div>
</body>

</html>